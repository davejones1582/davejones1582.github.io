<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reddit Media Browser</title>
    <link rel="stylesheet" href="./styles/main.css">
</head>
<body>
    <div class="search-container">
        <input type="text" id="search" placeholder="Search content...">
        <button class="settings-toggle" onclick="toggleSettings()" aria-label="Settings">⚙️</button>
    </div>

    <div class="error-message" id="error-message"></div>
    <div class="loading-spinner" id="loading-spinner"></div>

    <div class="settings-backdrop" id="settings-backdrop"></div>
    <div class="settings-panel" id="settings-panel">
        <div class="settings-header">
            <h3>Manage Settings</h3>
            <button onclick="toggleSettings()">×</button>
        </div>

        <div class="sort-options">
            <label>Sort by:</label>
            <select id="sort-select" onchange="handleSortChange()">
                <option value="hot">Hot</option>
                <option value="top">Top</option>
                <option value="new">New</option>
                <option value="rising">Rising</option>
                <option value="random">Random</option>
            </select>
            <select id="time-select" class="time-options" onchange="saveSettings()">
                <option value="hour">Past Hour</option>
                <option value="day">Past 24 Hours</option>
                <option value="week">Past Week</option>
                <option value="month">Past Month</option>
                <option value="year">Past Year</option>
                <option value="all">All Time</option>
            </select>
        </div>

        <div class="subreddit-management">
            <div>
                <textarea id="subreddit-list" placeholder="Enter subreddits, one per line (e.g. 'videos' or 'r/youtubehaiku')"></textarea>
                <div class="management-buttons">
                    <button onclick="saveSubreddits()">Save</button>
                    <button onclick="loadDefaultSubreddits()">Load Defaults</button>
                </div>
            </div>
        </div>

        </div>
    </div>

    <div class="image-grid" id="image-grid"></div>

    <div class="lightbox" id="lightbox" onclick="closeLightbox()">
        <div class="lightbox-content" onclick="event.stopPropagation()">
            <span class="lightbox-close" onclick="closeLightbox()">&times;</span>
            <div class="lightbox-nav lightbox-prev" onclick="navigate(-1)">❮</div>
            <div class="lightbox-nav lightbox-next" onclick="navigate(1)">❯</div>
            <div id="media-container"></div>
            <div class="lightbox-metadata" id="lightbox-metadata">
                <a class="lightbox-link" id="lightbox-link" target="_blank">View Post</a>
            </div>
        </div>
    </div>

    <script src="./scripts/app.js"></script>

</body>
</html>